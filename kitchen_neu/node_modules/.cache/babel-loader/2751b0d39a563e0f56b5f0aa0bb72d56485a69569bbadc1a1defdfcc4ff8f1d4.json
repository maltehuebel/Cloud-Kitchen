{"ast":null,"code":"var _jsxFileName = \"/Users/maltehubel/Documents/Studium/HdM/Semester 1/Cloud Computing/Cloud Kitchen /neuer_versuch/kitchen_neu/src/components/K\\xFCche.jsx\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass Kitchen extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      orders: [] // Liste der aktuellen Bestellungen\n    };\n    this.fetchOrders = () => {\n      fetch('http://localhost:8080/orders').then(response => response.json()).then(data => {\n        this.setState({\n          orders: data\n        });\n      }).catch(error => {\n        console.error('Fehler beim Abrufen der Bestellungen:', error);\n      });\n    };\n    this.markOrderAsCompleted = orderId => {\n      fetch(`http://localhost:8080/order/${orderId}/complete`, {\n        method: 'PATCH'\n      }).then(response => {\n        if (response.ok) {\n          // Aktualisieren Sie den State sofort, um die Bestellung zu entfernen\n          this.setState(prevState => ({\n            orders: prevState.orders.filter(order => order._id !== orderId)\n          }));\n        } else {\n          console.error('Fehler beim Markieren der Bestellung als erledigt');\n        }\n      }).catch(error => {\n        console.error('Fehler beim Senden der Anfrage:', error);\n      });\n    };\n  }\n  componentDidMount() {\n    this.fetchOrdersInterval = setInterval(this.fetchOrders, 5000);\n  }\n  componentWillUnmount() {\n    clearInterval(this.fetchOrdersInterval);\n  }\n  /*render() {\n    return (\n      <div>\n        <h1>K端che</h1>\n        <ul>\n          {this.state.orders.map((order) => (\n            <li key={order.id}>\n              {order.items.map((item, itemIndex) => (\n                <div key={itemIndex}>\n                  {item.amount}x {item.name}\n                </div>\n              ))}\n              <button onClick={() => this.markOrderAsCompleted(order.id)}>Erledigt</button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }*/\n\n  //Datenbank Code\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"K\\xFCche\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.state.orders.map(order => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [order.details.items && order.details.items.map((item, itemIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [item.amount, \"x \", item.name]\n          }, itemIndex, true, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 17\n          }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => this.markOrderAsCompleted(order._id),\n            children: \"Erledigt\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, order._id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this);\n  }\n}\nexport default Kitchen;","map":{"version":3,"names":["React","Component","jsxDEV","_jsxDEV","Kitchen","constructor","args","state","orders","fetchOrders","fetch","then","response","json","data","setState","catch","error","console","markOrderAsCompleted","orderId","method","ok","prevState","filter","order","_id","componentDidMount","fetchOrdersInterval","setInterval","componentWillUnmount","clearInterval","render","children","fileName","_jsxFileName","lineNumber","columnNumber","map","details","items","item","itemIndex","amount","name","onClick"],"sources":["/Users/maltehubel/Documents/Studium/HdM/Semester 1/Cloud Computing/Cloud Kitchen /neuer_versuch/kitchen_neu/src/components/K端che.jsx"],"sourcesContent":["import React, { Component } from 'react';\n\nclass Kitchen extends Component {\n  state = {\n    orders: [], // Liste der aktuellen Bestellungen\n  };\n\n  componentDidMount() {\n    this.fetchOrdersInterval = setInterval(this.fetchOrders, 5000);\n  }\n\n  componentWillUnmount() {\n    clearInterval(this.fetchOrdersInterval);\n  }\n\n  fetchOrders = () => {\n    fetch('http://localhost:8080/orders')\n      .then((response) => response.json())\n      .then((data) => {\n        this.setState({ orders: data });\n      })\n      .catch((error) => {\n        console.error('Fehler beim Abrufen der Bestellungen:', error);\n      });\n  };\n\n  markOrderAsCompleted = (orderId) => {\n    fetch(`http://localhost:8080/order/${orderId}/complete`, { method: 'PATCH' })\n      .then((response) => {\n        if (response.ok) {\n          // Aktualisieren Sie den State sofort, um die Bestellung zu entfernen\n          this.setState((prevState) => ({\n            orders: prevState.orders.filter((order) => order._id !== orderId)\n          }));\n        } else {\n          console.error('Fehler beim Markieren der Bestellung als erledigt');\n        }\n      })\n      .catch((error) => {\n        console.error('Fehler beim Senden der Anfrage:', error);\n      });\n  };\n\n  /*render() {\n    return (\n      <div>\n        <h1>K端che</h1>\n        <ul>\n          {this.state.orders.map((order) => (\n            <li key={order.id}>\n              {order.items.map((item, itemIndex) => (\n                <div key={itemIndex}>\n                  {item.amount}x {item.name}\n                </div>\n              ))}\n              <button onClick={() => this.markOrderAsCompleted(order.id)}>Erledigt</button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }*/\n\n\n  //Datenbank Code\n  \n  render() {\n    return (\n      <div>\n        <h1>K端che</h1>\n        <ul>\n          {this.state.orders.map((order) => (\n            <li key={order._id}>\n              {order.details.items && order.details.items.map((item, itemIndex) => (\n                <div key={itemIndex}>\n                  {item.amount}x {item.name}\n                </div>\n              ))}\n              <button onClick={() => this.markOrderAsCompleted(order._id)}>Erledigt</button>\n            </li>\n          ))}\n        </ul>\n      </div>\n    );\n  }\n}\n\n\nexport default Kitchen;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEzC,MAAMC,OAAO,SAASH,SAAS,CAAC;EAAAI,YAAA,GAAAC,IAAA;IAAA,SAAAA,IAAA;IAAA,KAC9BC,KAAK,GAAG;MACNC,MAAM,EAAE,EAAE,CAAE;IACd,CAAC;IAAA,KAUDC,WAAW,GAAG,MAAM;MAClBC,KAAK,CAAC,8BAA8B,CAAC,CAClCC,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACnCF,IAAI,CAAEG,IAAI,IAAK;QACd,IAAI,CAACC,QAAQ,CAAC;UAAEP,MAAM,EAAEM;QAAK,CAAC,CAAC;MACjC,CAAC,CAAC,CACDE,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,uCAAuC,EAAEA,KAAK,CAAC;MAC/D,CAAC,CAAC;IACN,CAAC;IAAA,KAEDE,oBAAoB,GAAIC,OAAO,IAAK;MAClCV,KAAK,CAAE,+BAA8BU,OAAQ,WAAU,EAAE;QAAEC,MAAM,EAAE;MAAQ,CAAC,CAAC,CAC1EV,IAAI,CAAEC,QAAQ,IAAK;QAClB,IAAIA,QAAQ,CAACU,EAAE,EAAE;UACf;UACA,IAAI,CAACP,QAAQ,CAAEQ,SAAS,KAAM;YAC5Bf,MAAM,EAAEe,SAAS,CAACf,MAAM,CAACgB,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,GAAG,KAAKN,OAAO;UAClE,CAAC,CAAC,CAAC;QACL,CAAC,MAAM;UACLF,OAAO,CAACD,KAAK,CAAC,mDAAmD,CAAC;QACpE;MACF,CAAC,CAAC,CACDD,KAAK,CAAEC,KAAK,IAAK;QAChBC,OAAO,CAACD,KAAK,CAAC,iCAAiC,EAAEA,KAAK,CAAC;MACzD,CAAC,CAAC;IACN,CAAC;EAAA;EAlCDU,iBAAiBA,CAAA,EAAG;IAClB,IAAI,CAACC,mBAAmB,GAAGC,WAAW,CAAC,IAAI,CAACpB,WAAW,EAAE,IAAI,CAAC;EAChE;EAEAqB,oBAAoBA,CAAA,EAAG;IACrBC,aAAa,CAAC,IAAI,CAACH,mBAAmB,CAAC;EACzC;EA8BA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;EAGE;;EAEAI,MAAMA,CAAA,EAAG;IACP,oBACE7B,OAAA;MAAA8B,QAAA,gBACE9B,OAAA;QAAA8B,QAAA,EAAI;MAAK;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACdlC,OAAA;QAAA8B,QAAA,EACG,IAAI,CAAC1B,KAAK,CAACC,MAAM,CAAC8B,GAAG,CAAEb,KAAK,iBAC3BtB,OAAA;UAAA8B,QAAA,GACGR,KAAK,CAACc,OAAO,CAACC,KAAK,IAAIf,KAAK,CAACc,OAAO,CAACC,KAAK,CAACF,GAAG,CAAC,CAACG,IAAI,EAAEC,SAAS,kBAC9DvC,OAAA;YAAA8B,QAAA,GACGQ,IAAI,CAACE,MAAM,EAAC,IAAE,EAACF,IAAI,CAACG,IAAI;UAAA,GADjBF,SAAS;YAAAR,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAEd,CACN,CAAC,eACFlC,OAAA;YAAQ0C,OAAO,EAAEA,CAAA,KAAM,IAAI,CAAC1B,oBAAoB,CAACM,KAAK,CAACC,GAAG,CAAE;YAAAO,QAAA,EAAC;UAAQ;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC;QAAA,GANvEZ,KAAK,CAACC,GAAG;UAAAQ,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAOd,CACL;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC;EAEV;AACF;AAGA,eAAejC,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}